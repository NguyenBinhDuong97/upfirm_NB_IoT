/*
 * uartWinnApp.h
 *
 *  Created on: May 26, 2022
 *      Author: Admin
 */

#ifndef UARTWINNAPP_H_
#define UARTWINNAPP_H_

#include "bc66_cmd.h"
#include "bc66_uart.h"
#include "MQTTPacket.h"
#include "MQTTFormat.h"
#include "bc66_cmd.h"
#include "bc66_uart.h"
#include "MQTTConnect.h"
#include "MQTT.h"
#include "stdio.h"
#include "string.h"
#include "my_lib.h"

typedef enum{
	_ID_SIG_,
	_UPDATE_SIG_,
	_DATA_SIG_,
	_END_SIG_,
} eUartWinCaseRec;

typedef struct{
    uint8_t sig;
    sType_string ReceiveString;
    func_callback_pointer uartWinAppHandle;
}sUartWinApp;

typedef struct{
	uint8_t data;
	uint8_t *pData;
	uint16_t numb_rec;
	uint16_t pre_numb_rec;
	uint16_t max_element;
}sWinAppRec;

extern volatile sWinAppRec WinUart;
extern sType_string uart_rec_WinApp;

uint8_t fncIdHandle (void);
uint8_t fncAddressHandle (void);
uint8_t fncDataHandle (void);
uint8_t fncEndHandle (void);

uint8_t WinApp_Check_Time_Out( uint32_t mark, uint32_t cycle );
uint8_t WinApp_UART_Check_Receive_Process_Status (void);
uint8_t WinApp_Reset(void);
uint8_t WinApp_Handle_UART_Receive(void);
void    Convert_length_to_array (uint8_t *array, uint16_t ui16array_lenght);
#endif /* UARTWINNAPP_H_ */
